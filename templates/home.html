<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OCR + Translate — Home</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
</head>
<body>
  <nav class="site-nav">
    <div class="nav-inner">
      <a class="brand" href="/">
        <div class="brand-badge" aria-hidden="true"></div>
        <span>OCR + Translate</span>
      </a>
      <div class="nav-links">
        <a class="nav-link" href="#features">Features</a>
        <a class="nav-link" href="#how">How it works</a>
        <a class="nav-link" href="#about">About</a>
        <a class="nav-cta" id="open-app-link" href="#app">App</a>
      </div>
    </div>
  </nav>

  <header class="hero">
    <div>
      <h1 class="hero-title">Extract, translate, and understand documents instantly.</h1>
      <p class="hero-sub">Upload an image or PDF — we run high‑quality OCR on the server, then translate it into your chosen language. Fast, reliable, and built for real‑world documents.</p>
      <div class="hero-cta">
        <a class="btn-secondary" href="#features">See Features</a>
      </div>
    </div>
    <div class="hero-card">
      <div id="app" class="hero-mock app-embed">
        <div class="panel">
          <div class="header">
            <div>
              <div class="brand">OCR + Translate</div>
              <div class="muted">Upload an image or PDF. We'll extract text and translate to your chosen language.</div>
            </div>
            <div class="status" id="api-status">Checking API…</div>
          </div>
          <div class="content">
            <form class="uploader" id="upload-form">
              <input class="file-input" id="file-input" type="file" accept="image/*,application/pdf" />
              <select class="select-input" id="language-select" aria-label="Target language">
                <option value="hi" selected>Hindi</option>
                <option value="es">Spanish</option>
                <option value="fr">French</option>
                <option value="de">German</option>
                <option value="ar">Arabic</option>
                <option value="zh">Chinese (Simplified)</option>
                <option value="ja">Japanese</option>
                <option value="pt">Portuguese</option>
                <option value="ru">Russian</option>
                <option value="bn">Bengali</option>
                <option value="ta">Tamil</option>
                <option value="te">Telugu</option>
                <option value="mr">Marathi</option>
                <option value="ur">Urdu</option>
                <option value="ko">Korean</option>
                <option value="it">Italian</option>
              </select>
              <button class="button-primary" id="upload-btn" type="submit">Upload</button>
              <span class="muted" id="hint">PNG, JPG, JPEG, GIF, BMP, PDF</span>
            </form>
            <div class="grid">
              <div class="card">
                <h3>Extracted Text</h3>
                <pre id="original"></pre>
              </div>
              <div class="card">
                <h3>Translated (<span id="lang-label">Hindi</span>)</h3>
                <pre id="translated"></pre>
              </div>
            </div>
            <div class="muted" id="message"></div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <section id="features" class="section">
    <div class="section-inner">
      <h2 class="section-title">Features</h2>
      <div class="features">
        <div class="feature"><h3>Accurate OCR</h3><p>Server‑side OCR extracts clean text from photos and scans. PDFs use embedded‑text detection first, then image OCR fallback for scanned pages.</p></div>
        <div class="feature"><h3>Smart Translation</h3><p>Translations preserve names, roll numbers, amounts, and dates. Output is cleaned so original source lines don’t leak into the result.</p></div>
        <div class="feature"><h3>Secure & Private</h3><p>Uploads are processed on the server and removed immediately after use. API keys live in environment variables — never exposed in the browser.</p></div>
      </div>
    </div>
  </section>

  <section id="how" class="section">
    <div class="section-inner">
      <h2 class="section-title">How it works</h2>
      <div class="steps">
        <div class="step"><div class="step-num">1</div><div>Choose your file (JPG, PNG, GIF, BMP, WEBP, or PDF). The server stores it temporarily and prepares it for OCR.</div></div>
        <div class="step"><div class="step-num">2</div><div>We detect embedded text in PDFs; if none is found, the first pages are rasterized and sent to our OCR engine.</div></div>
        <div class="step"><div class="step-num">3</div><div>Pick a target language. Our translator converts all text while preserving layout, names, and numeric fields.</div></div>
        <div class="step"><div class="step-num">4</div><div>Review your original and translated text side‑by‑side. Copy what you need — the upload is deleted after processing.</div></div>
      </div>
    </div>
  </section>

  <section id="about" class="section">
    <div class="section-inner">
      <h2 class="section-title">About this project</h2>
      <p class="hero-sub">This project pairs a lightweight Flask backend with a server‑side OCR and translation pipeline to deliver accurate results. It supports Images(PNG, JPG, JPEG, GIF, BMP) and PDFs, handles scanned pages with a reliable fallback, and removes files after processing for privacy.</p>
      <p class="hero-sub">The UI is embedded on this page for a smooth experience. All heavy‑lifting (OCR and translation) happens on the server to ensure performance and keep your API key secure.</p>
    </div>
  </section>

  <footer class="site-footer">
    <div class="footer-inner">
      <div>© <span id="y"></span> OCR + Translate • College Mini Project</div>
    </div>
  </footer>

  <script>window.__GEMINI_API_KEY__ = "{{ gemini_api_key | default('') }}";</script>
  <script src="{{ url_for('static', filename='js/home.js') }}"></script>
</body>
</html>
